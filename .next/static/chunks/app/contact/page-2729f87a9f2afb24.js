(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[977],{357:(e,t,r)=>{"use strict";r.d(t,{default:()=>en});var s=r(5155),a=r(2115),n=r(1873),i=r(9141),d=r(3664),o=r(6983),l=r(2171),c=r(6185),u=r(1517),m=r(8456);let f=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("textarea",{className:(0,m.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...a})});f.displayName="Textarea";var p=r(2544),x=r(6942),g=r(2467),h=r(6331);let y=p.Op,b=a.createContext({}),v=e=>{let{...t}=e;return(0,s.jsx)(b.Provider,{value:{name:t.name},children:(0,s.jsx)(p.xI,{...t})})},N=()=>{let e=a.useContext(b),t=a.useContext(j),{getFieldState:r,formState:s}=(0,p.xW)(),n=r(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...n}},j=a.createContext({}),_=a.forwardRef((e,t)=>{let{className:r,...n}=e,i=a.useId();return(0,s.jsx)(j.Provider,{value:{id:i},children:(0,s.jsx)("div",{ref:t,className:(0,m.cn)("space-y-2",r),...n})})});_.displayName="FormItem";let w=a.forwardRef((e,t)=>{let{className:r,...a}=e,{error:n,formItemId:i}=N();return(0,s.jsx)(h.J,{ref:t,className:(0,m.cn)(n&&"text-destructive",r),htmlFor:i,...a})});w.displayName="FormLabel";let I=a.forwardRef((e,t)=>{let{...r}=e,{error:a,formItemId:n,formDescriptionId:i,formMessageId:d}=N();return(0,s.jsx)(g.DX,{ref:t,id:n,"aria-describedby":a?"".concat(i," ").concat(d):"".concat(i),"aria-invalid":!!a,...r})});I.displayName="FormControl",a.forwardRef((e,t)=>{let{className:r,...a}=e,{formDescriptionId:n}=N();return(0,s.jsx)("p",{ref:t,id:n,className:(0,m.cn)("text-sm text-muted-foreground",r),...a})}).displayName="FormDescription";let A=a.forwardRef((e,t)=>{var r;let{className:a,children:n,...i}=e,{error:d,formMessageId:o}=N(),l=d?String(null!=(r=null==d?void 0:d.message)?r:""):n;return l?(0,s.jsx)("p",{ref:t,id:o,className:(0,m.cn)("text-sm font-medium text-destructive",a),...i,children:l}):null});A.displayName="FormMessage";var S=r(3648),q=r(7201),F=r(3532),T=r(2575),E=r(857),k=r(7930),C=r(8725),Q=r(6446),M=r(6688),O=r(2808),R=r(2887),P=r(9177);function D(){let e=(0,S._)(["gen_random_uuid()"]);return D=function(){return e},e}function K(){let e=(0,S._)(["gen_random_uuid()"]);return K=function(){return e},e}function J(){let e=(0,S._)(["gen_random_uuid()"]);return J=function(){return e},e}function B(){let e=(0,S._)(["gen_random_uuid()"]);return B=function(){return e},e}function U(){let e=(0,S._)(["gen_random_uuid()"]);return U=function(){return e},e}function W(){let e=(0,S._)(["gen_random_uuid()"]);return W=function(){return e},e}function z(){let e=(0,S._)(["gen_random_uuid()"]);return z=function(){return e},e}let V=(0,F.cJ)("users",{id:(0,T.yf)("id").primaryKey().default((0,q.ll)(D())),username:(0,E.Qq)("username").notNull().unique(),email:(0,E.Qq)("email").notNull().unique(),password:(0,E.Qq)("password").notNull(),firstName:(0,E.Qq)("first_name"),lastName:(0,E.Qq)("last_name"),createdAt:(0,k.vE)("created_at").defaultNow()}),G=(0,F.cJ)("categories",{id:(0,T.yf)("id").primaryKey().default((0,q.ll)(K())),name:(0,E.Qq)("name").notNull(),slug:(0,E.Qq)("slug").notNull().unique(),description:(0,E.Qq)("description"),createdAt:(0,k.vE)("created_at").defaultNow()}),Z=(0,F.cJ)("products",{id:(0,T.yf)("id").primaryKey().default((0,q.ll)(J())),name:(0,E.Qq)("name").notNull(),slug:(0,E.Qq)("slug").notNull().unique(),description:(0,E.Qq)("description"),price:(0,C._)("price",{precision:10,scale:2}).notNull(),imageUrl:(0,E.Qq)("image_url"),categoryId:(0,T.yf)("category_id").references(()=>G.id),inStock:(0,Q.zM)("in_stock").default(!0),featured:(0,Q.zM)("featured").default(!1),specifications:(0,M.Pq)("specifications"),createdAt:(0,k.vE)("created_at").defaultNow()}),H=(0,F.cJ)("blog_posts",{id:(0,T.yf)("id").primaryKey().default((0,q.ll)(B())),title:(0,E.Qq)("title").notNull(),slug:(0,E.Qq)("slug").notNull().unique(),excerpt:(0,E.Qq)("excerpt"),content:(0,E.Qq)("content").notNull(),imageUrl:(0,E.Qq)("image_url"),category:(0,E.Qq)("category"),published:(0,Q.zM)("published").default(!1),publishedAt:(0,k.vE)("published_at"),createdAt:(0,k.vE)("created_at").defaultNow()}),X=(0,F.cJ)("contact_submissions",{id:(0,T.yf)("id").primaryKey().default((0,q.ll)(U())),firstName:(0,E.Qq)("first_name").notNull(),lastName:(0,E.Qq)("last_name").notNull(),email:(0,E.Qq)("email").notNull(),message:(0,E.Qq)("message").notNull(),createdAt:(0,k.vE)("created_at").defaultNow()}),$=(0,F.cJ)("orders",{id:(0,T.yf)("id").primaryKey().default((0,q.ll)(W())),userId:(0,T.yf)("user_id").references(()=>V.id),total:(0,C._)("total",{precision:10,scale:2}).notNull(),status:(0,E.Qq)("status").notNull().default("pending"),shippingAddress:(0,M.Pq)("shipping_address"),stripePaymentIntentId:(0,E.Qq)("stripe_payment_intent_id"),createdAt:(0,k.vE)("created_at").defaultNow()}),L=(0,F.cJ)("order_items",{id:(0,T.yf)("id").primaryKey().default((0,q.ll)(z())),orderId:(0,T.yf)("order_id").references(()=>$.id),productId:(0,T.yf)("product_id").references(()=>Z.id),quantity:(0,O.nd)("quantity").notNull(),price:(0,C._)("price",{precision:10,scale:2}).notNull()});(0,R.K1)(G,e=>{let{many:t}=e;return{products:t(Z)}}),(0,R.K1)(Z,e=>{let{one:t,many:r}=e;return{category:t(G,{fields:[Z.categoryId],references:[G.id]}),orderItems:r(L)}}),(0,R.K1)($,e=>{let{one:t,many:r}=e;return{user:t(V,{fields:[$.userId],references:[V.id]}),orderItems:r(L)}}),(0,R.K1)(L,e=>{let{one:t}=e;return{order:t($,{fields:[L.orderId],references:[$.id]}),product:t(Z,{fields:[L.productId],references:[Z.id]})}}),(0,P.r)(V).omit({id:!0,createdAt:!0}),(0,P.r)(Z).omit({id:!0,createdAt:!0}),(0,P.r)(G).omit({id:!0,createdAt:!0}),(0,P.r)(H).omit({id:!0,createdAt:!0,publishedAt:!0});let Y=(0,P.r)(X).omit({id:!0,createdAt:!0});(0,P.r)($).omit({id:!0,createdAt:!0}),(0,P.r)(L).omit({id:!0});var ee=r(9776),et=r(549),er=r(5774),es=r(4539),ea=r(3016);function en(){let e=(0,ea.D)();(0,ee.jE)();let{toast:t}=(0,es.dj)(),r=(0,p.mN)({resolver:(0,x.u)(Y),defaultValues:{firstName:"",lastName:"",email:"",message:""}}),a=(0,et.n)({mutationFn:e=>(0,er.AT)("POST","/api/contact",e),onSuccess:()=>{t({title:"Message sent successfully!",description:"We'll get back to you as soon as possible."}),r.reset()},onError:e=>{t({title:"Failed to send message",description:e.message||"Please try again later.",variant:"destructive"})}}),m=[{icon:n.A,title:"Visit Our Store",content:e.contact.address,testId:"contact-address"},{icon:i.A,title:"Call Us",content:e.contact.phone,testId:"contact-phone"},{icon:d.A,title:"Email Us",content:e.contact.email,testId:"contact-email"},{icon:o.A,title:"Store Hours",content:"Mon-Fri: 9AM-7PM\nSat-Sun: 9AM-6PM",testId:"contact-hours"}];return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)("section",{className:"bg-primary text-white py-16","data-testid":"contact-hero-section",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-4xl lg:text-5xl font-bold mb-6","data-testid":"text-contact-title",children:"Get in Touch"}),(0,s.jsx)("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto","data-testid":"text-contact-description",children:"Have questions about our bikes or need expert advice? We're here to help you find the perfect ride. Get in touch with us today!"})]})})}),(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:(0,s.jsxs)("div",{className:"grid lg:grid-cols-2 gap-12",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-primary mb-8","data-testid":"text-contact-info-title",children:"Contact Information"}),(0,s.jsx)("div",{className:"space-y-6",children:m.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-start space-x-4 p-4 bg-white rounded-lg shadow-sm border border-gray-100 hover:shadow-md transition-shadow","data-testid":e.testId,children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("div",{className:"w-12 h-12 bg-accent/10 rounded-full flex items-center justify-center",children:(0,s.jsx)(e.icon,{className:"w-6 h-6 text-accent"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-primary mb-1",children:e.title}),(0,s.jsx)("p",{className:"text-muted whitespace-pre-line",children:e.content})]})]},t))}),(0,s.jsx)("div",{className:"mt-8",children:(0,s.jsx)("div",{className:"bg-gray-200 h-64 rounded-lg flex items-center justify-center","data-testid":"map-placeholder",children:(0,s.jsx)("p",{className:"text-muted",children:"Interactive map would be integrated here"})})})]}),(0,s.jsx)("div",{children:(0,s.jsxs)(c.Zp,{children:[(0,s.jsx)(c.aR,{children:(0,s.jsx)(c.ZB,{"data-testid":"text-contact-form-title",children:"Send us a Message"})}),(0,s.jsx)(c.Wu,{children:(0,s.jsx)(y,{...r,children:(0,s.jsxs)("form",{onSubmit:r.handleSubmit(e=>{a.mutate(e)}),className:"space-y-6","data-testid":"contact-form",children:[(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,s.jsx)(v,{control:r.control,name:"firstName",render:e=>{let{field:t}=e;return(0,s.jsxs)(_,{children:[(0,s.jsx)(w,{children:"First Name"}),(0,s.jsx)(I,{children:(0,s.jsx)(u.p,{...t,"data-testid":"input-first-name"})}),(0,s.jsx)(A,{})]})}}),(0,s.jsx)(v,{control:r.control,name:"lastName",render:e=>{let{field:t}=e;return(0,s.jsxs)(_,{children:[(0,s.jsx)(w,{children:"Last Name"}),(0,s.jsx)(I,{children:(0,s.jsx)(u.p,{...t,"data-testid":"input-last-name"})}),(0,s.jsx)(A,{})]})}})]}),(0,s.jsx)(v,{control:r.control,name:"email",render:e=>{let{field:t}=e;return(0,s.jsxs)(_,{children:[(0,s.jsx)(w,{children:"Email"}),(0,s.jsx)(I,{children:(0,s.jsx)(u.p,{type:"email",...t,"data-testid":"input-email"})}),(0,s.jsx)(A,{})]})}}),(0,s.jsx)(v,{control:r.control,name:"message",render:e=>{let{field:t}=e;return(0,s.jsxs)(_,{children:[(0,s.jsx)(w,{children:"Message"}),(0,s.jsx)(I,{children:(0,s.jsx)(f,{rows:4,...t,"data-testid":"textarea-message"})}),(0,s.jsx)(A,{})]})}}),(0,s.jsx)(l.$,{type:"submit",className:"w-full bg-accent hover:bg-green-600 text-white",disabled:a.isPending,"data-testid":"button-send-message",children:a.isPending?"Sending...":"Send Message"})]})})})]})})]})})]})}},1517:(e,t,r)=>{"use strict";r.d(t,{p:()=>i});var s=r(5155),a=r(2115),n=r(8456);let i=a.forwardRef((e,t)=>{let{className:r,type:a,...i}=e;return(0,s.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...i})});i.displayName="Input"},2171:(e,t,r)=>{"use strict";r.d(t,{$:()=>l});var s=r(5155),a=r(2115),n=r(2467),i=r(3101),d=r(8456);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:l=!1,...c}=e,u=l?n.DX:"button";return(0,s.jsx)(u,{className:(0,d.cn)(o({variant:a,size:i,className:r})),ref:t,...c})});l.displayName="Button"},3016:(e,t,r)=>{"use strict";r.d(t,{ThemeProvider:()=>o,D:()=>d});var s=r(5155),a=r(2115);let n={brandName:"Stone E-Bikes",logo:{text:"Stone E-Bikes",imageUrl:void 0},colors:{primary:"#000000",secondary:"#FFFFFF",accent:"#FFD700",muted:"#6B7280",background:"#FFFFFF",foreground:"#000000"},fonts:{sans:"Inter, system-ui, sans-serif",serif:"Georgia, serif",mono:"Monaco, Consolas, monospace"},layout:{maxWidth:"1280px",borderRadius:"0.5rem"},contact:{phone:"(555) 123-BIKE",email:"info@stonee-bikes.com",address:"123 Bike Street, Cycling City, CC 12345"},social:{facebook:"https://facebook.com/stonee-bikes",twitter:"https://twitter.com/stonee-bikes",instagram:"https://instagram.com/stonee-bikes"}},i=(0,a.createContext)(n),d=()=>{let e=(0,a.useContext)(i);if(!e)throw Error("useTheme must be used within a ThemeProvider");return e},o=e=>{let{children:t,theme:r=n}=e;return(0,s.jsx)(i.Provider,{value:r,children:t})}},4539:(e,t,r)=>{"use strict";r.d(t,{dj:()=>u});var s=r(2115);let a=0,n=new Map,i=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),l({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},d=[],o={toasts:[]};function l(e){o=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?i(r):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(o,e),d.forEach(e=>{e(o)})}function c(e){let{...t}=e,r=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>l({type:"DISMISS_TOAST",toastId:r});return l({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||s()}}}),{id:r,dismiss:s,update:e=>l({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function u(){let[e,t]=s.useState(o);return s.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:c,dismiss:e=>l({type:"DISMISS_TOAST",toastId:e})}}},5774:(e,t,r)=>{"use strict";async function s(e){if(!e.ok){let t=await e.text()||e.statusText;throw Error("".concat(e.status,": ").concat(t))}}async function a(e,t,r){let a=await fetch(t,{method:e,headers:r?{"Content-Type":"application/json"}:{},body:r?JSON.stringify(r):void 0,credentials:"include"});return await s(a),a}r.d(t,{AT:()=>a}),new(r(4852)).E({defaultOptions:{queries:{queryFn:(e=>{let{on401:t}=e;return async e=>{let{queryKey:r}=e,a=await fetch(r.join("/"),{credentials:"include"});return"returnNull"===t&&401===a.status?null:(await s(a),await a.json())}})({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}})},6185:(e,t,r)=>{"use strict";r.d(t,{Wu:()=>l,ZB:()=>o,Zp:()=>i,aR:()=>d});var s=r(5155),a=r(2115),n=r(8456);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});i.displayName="Card";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})});d.displayName="CardHeader";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});o.displayName="CardTitle",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})}).displayName="CardDescription";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...a})});l.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter"},6331:(e,t,r)=>{"use strict";r.d(t,{J:()=>l});var s=r(5155),a=r(2115),n=r(489),i=r(3101),d=r(8456);let o=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.b,{ref:t,className:(0,d.cn)(o(),r),...a})});l.displayName=n.b.displayName},6711:(e,t,r)=>{Promise.resolve().then(r.bind(r,357))},8456:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var s=r(2821),a=r(5889);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}}},e=>{e.O(0,[909,796,241,999,441,255,358],()=>e(e.s=6711)),_N_E=e.O()}]);