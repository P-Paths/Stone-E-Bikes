(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[831],{3047:(e,t,a)=>{Promise.resolve().then(a.bind(a,4863))},4863:(e,t,a)=>{"use strict";a.d(t,{default:()=>m});var s=a(5155),l=a(2115),d=a(2619),i=a.n(d),c=a(2454),n=a(6185),r=a(2171),o=a(8080);function m(){let[e,t]=(0,l.useState)([]),[a,d]=(0,l.useState)(!1);(0,l.useEffect)(()=>{(0,o.X)().then(e=>{e.length>0&&(t(e),d(!0))}).catch(e=>{console.warn("Failed to load markdown posts:",e)})},[]);let{data:m,isLoading:g}=(0,c.I)({queryKey:["/api/blog"],enabled:!a||0===e.length}),x=a&&e.length>0?e:m||[],h=!a&&(!m||0===m.length)||a&&0===e.length;return(0,s.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsxs)("div",{className:"text-center mb-12",children:[(0,s.jsx)("h1",{className:"text-3xl lg:text-4xl font-bold text-primary mb-4","data-testid":"text-blog-title",children:"Our Blog"}),(0,s.jsx)("p",{className:"text-xl text-muted max-w-2xl mx-auto","data-testid":"text-blog-description",children:"Tips, guides, and stories from the cycling community"}),a&&(0,s.jsx)("p",{className:"text-sm text-secondary mt-2",children:"✓ Loading from markdown files"})]}),g&&!a?(0,s.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[...Array(6)].map((e,t)=>(0,s.jsxs)("div",{className:"animate-pulse",children:[(0,s.jsx)("div",{className:"bg-gray-200 h-48 rounded-lg mb-4"}),(0,s.jsx)("div",{className:"bg-gray-200 h-4 rounded mb-2"}),(0,s.jsx)("div",{className:"bg-gray-200 h-4 rounded mb-4 w-3/4"}),(0,s.jsx)("div",{className:"bg-gray-200 h-3 rounded w-1/2"})]},t))}):h?(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsx)("p",{className:"text-muted text-lg","data-testid":"text-no-posts",children:"No blog posts available at the moment."})}):(0,s.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8","data-testid":"blog-posts-grid",children:x.map(t=>{let l=a&&e.length>0,d=l?t.slug:t.id;return(0,s.jsxs)(n.Zp,{className:"overflow-hidden hover:shadow-lg transition-shadow bg-white","data-testid":"card-blog-".concat(d),children:[(0,s.jsxs)("div",{className:"relative h-48 overflow-hidden",children:[(0,s.jsx)("img",{src:l?t.imageUrl||"/images/e-bikes/keteles-fat-26.png":t.imageUrl||"/images/e-bikes/askgo-26.png",alt:t.title,className:"w-full h-full object-cover bg-gray-50 hover:scale-105 transition-transform duration-300","data-testid":"img-blog-".concat(d)}),(0,s.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-20"})]}),(0,s.jsxs)(n.Wu,{className:"p-6",children:[l&&t.tags&&t.tags.length>0&&(0,s.jsx)("div",{className:"text-sm font-semibold text-secondary mb-2","data-testid":"text-blog-tags-".concat(d),children:t.tags.join(", ")}),!l&&t.category&&(0,s.jsx)("div",{className:"text-sm font-semibold text-secondary mb-2","data-testid":"text-blog-category-".concat(d),children:t.category}),(0,s.jsx)("h2",{className:"text-xl font-bold text-primary mb-3 line-clamp-2","data-testid":"text-blog-title-".concat(d),children:t.title}),(0,s.jsx)("p",{className:"text-muted mb-4 line-clamp-3","data-testid":"text-blog-excerpt-".concat(d),children:t.excerpt}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-sm text-muted","data-testid":"text-blog-date-".concat(d),children:l?new Date(t.date).toLocaleDateString():t.publishedAt?new Date(t.publishedAt).toLocaleDateString():""}),(0,s.jsx)(i(),{href:"/blog/".concat(t.slug),children:(0,s.jsx)(r.$,{variant:"link",className:"text-secondary hover:text-blue-600 p-0 h-auto","data-testid":"button-read-more-".concat(d),children:"Read More →"})})]})]})]},d)})})]})})}}},e=>{e.O(0,[290,796,619,454,866,441,255,358],()=>e(e.s=3047)),_N_E=e.O()}]);